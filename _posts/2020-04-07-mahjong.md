---
layout: post
title:  "判斷麻將胡牌演算法"
date:   2020-04-07 14:00:00
tags:  
  - Mahjong
---

前陣子看到這篇 [麻將胡牌的演算法](https://sites.google.com/a/g2.nctu.edu.tw/unimath/2018-07/mj2)，想到第一份寫程式的工作也有用 `javascript` 寫過一個判斷麻將胡牌的 chrome APP。只是後來公司倒了，產品也收了。我當時把 [它](https://github.com/hjwu/mahjong) 丟到 github 當作備份就也沒管過它，趁這次春假有空看了才知道我當時的概念跟文中的定理一一樣。

文中定理一是這麼寫的：

> 一副牌 P，若把一個對子（俗稱眼睛）拿掉後，假設此時數字最小的牌是 x，
>
> + 若 x 的張數是 3 張以上，則拿掉 3 張 x（一刻）後，剩下牌為 Q。
> + 否則拿掉 x, x+1, x+2（一順）之後，剩下的牌為 Q。（若無法拿，則 P 沒胡）
> 則「P 胡」若且唯若「Q 胡」。

我當時的想法是因為從代碼最小的牌 `x` 開始，所以如果有 3 張一樣的牌 `x` 的話，它即使是 **一順** `x, x+1, x+2` 的成員 ，那牌組裡面也一定還會有另外兩組 **一順** `x, x+1, x+2` ，不然這兩張 `x` 沒辦法胡(因為眼睛也拿掉了)。那這三組 **一順** 也等同 `x`, `x+1` 跟 `x+2` 的 **一刻** 。所以這樣做不會影響是否胡牌。 :laughing:

總之也弄了 [c# 版](https://github.com/hsinjungwu/mahjong)。