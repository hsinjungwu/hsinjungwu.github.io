---
title: "é¢è©¦é¡Œç›®ä¸€"
date: 2020-08-19T10:20:00+08:00
draft: false
dropCap: false
categories:
    - "Interview"
---

å‰åŒäº‹çš„åŒäº‹å»æŸé–“å…¬å¸è¢«å•çš„é¡Œç›®

<!--more-->

## é¡Œç›®

çµ¦å®šæ­£æ•´æ•¸ $n$ï¼Œæ‰¾å‡ºä½æ•¸ç¸½å’Œèˆ‡å®ƒç›¸åŒï¼Œè€Œä¸”å¤§æ–¼å®ƒçš„æœ€å°æ­£æ•´æ•¸ã€‚ä¾‹å¦‚

+ 772 => 781
+ 293 => 329
+ 100 => 10000

## è§£æ³•

### åˆå§‹ä½œæ³•

+ å°æ–¼æœ«å…©ä½æ•¸å­—å°æ–¼ 90ï¼Œä¸”é 10 çš„å€æ•¸çš„æ•¸å­—ï¼Œ`+9` å°±çµæŸã€‚
+ å‰©ä¸‹çš„æ•¸å­—ï¼Œæˆ‘æ˜¯å…ˆæ¨å‡ºè‡³å°‘è¦åŠ å¹¾å€‹ 9ï¼Œæ­é… `+9` è¿´åœˆæª¢æŸ¥ **digit sum** æ˜¯å¦ç›¸åŒã€‚

### æ”¹å–„è§£æ³•

åšå‡ºä¾†ä¹‹å¾Œï¼Œæˆ‘æ¸¬è©¦äº†ä¸€ä¸‹å‰©é¤˜çš„ä¾‹å­ï¼Œç™¼ç¾æœ‰è¦å¾‹æ€§ï¼Œæ‰€ä»¥æ”¹æˆä»¥ä¸‹å¯«æ³•ã€‚ä½†æ²’æœ‰ä¹Ÿæ²’ç©ºè­‰æ˜æ˜¯å°çš„ ğŸ˜†

``` go
package main

import (
	"fmt"
	"time"
)

func main() {
	t := time.Now()
	data := 998
	ans := getAns(data)
	elapsed := time.Since(t)
	fmt.Printf("Elapsed time: %v, data = %d, ans = %d", elapsed, data, ans)
}

func getAns(data int) int {
	r := data % 100
	q := data / 100

	step := 0
	if r == 0 {
		b0 := 100
		for q%10 == 0 {
			b0 *= 10
			q /= 10
		}
		s0 := q % 10
		step = (b0-1)*(10-s0)/9 + 1
		q /= 10
		for q%10 == 9 {
			step += s0
			s0 *= 10
			q /= 10
		}
	} else if r > 90 {
		b9X := 10
		s9X := r % 10
		for q%10 == 9 {
			b9X *= 10
			q /= 10
		}
		step = (b9X-1)*s9X/9 + 1
	} else if r%10 == 0 {
		sX0 := r / 10
		step = 11 - sX0

		for q%10 == 9 {
			step += sX0
			sX0 *= 10
			q /= 10
		}
	} else {
		step = 1
	}

	return data + step*9
}
```

## çµè«–

ä¸çŸ¥é“æˆ‘å‰åŒäº‹çš„åŒäº‹æ˜¯åœ¨ä»€éº¼æƒ…æ³ä¸‹è¢«å•ã€‚å¦‚æœæ˜¯ç™½æ¿é¡Œï¼Œæˆ‘å·®ä¸å¤šå°±ç”¨åˆå§‹è§£æ³•æ‰“ç™¼ï¼Œå› ç‚ºæˆ‘æ•¸å­¸ä¸å¥½ä¹Ÿç¼ºä¹æ•éŠ³åº¦ã€‚å¦‚æœæ˜¯è€ƒç·šä¸Šæˆ‘æ‰æœƒç”¨è§€å¯Ÿæ³•é‡æ–°æ”¹å¯«ã€‚